<!doctype html>
<html lang="bg">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>NCI‚Äë—á–µ–∫–ª–∏—Å—Ç ‚Ä¢ CIA CRT v9 (Multilingual)</title>
<meta name="description" content="20-signal checklist with color-coded warnings, retro CRT design, and PNG/PDF export in 10 European languages." />
<style>
:root{ --bg:#0b1023; --bg2:#0f172a; --card:#0c1326; --border:#1f2a44; --muted:#94a3b8; --text:#e5e7eb; --head:#e2e8f0; --accent:#22d3ee; --accent-2:#a78bfa; --good:#10b981; --warn:#f59e0b; --bad:#ef4444; --btnH:44px; --radius:14px; --shadow:0 8px 32px rgba(0,0,0,.35); --font: 16px/1.52 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Noto Sans",Arial; --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }
body.theme-cia{ --bg:#000; --bg2:#000; --card:#00160e; --border:#0d3a2d; --muted:#78e0b8; --text:#caffea; --head:#b4ffd9; --accent:#22ff88; --accent-2:#0fd38a; --good:#22ff88; --warn:#ffd166; --bad:#ff6b6b; --shadow:none; }
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;color:var(--text);font:var(--font);background:linear-gradient(160deg,var(--bg),var(--bg2));}
/* CRT overlay */
body.theme-cia{background:#000}
body.theme-cia .crt-overlay{position:fixed;inset:0;pointer-events:none;z-index:9998; background:
  radial-gradient(ellipse at center, rgba(0,0,0,0) 60%, rgba(0,0,0,.35) 100%),
  repeating-linear-gradient(0deg, rgba(0,255,120,.07) 0 2px, rgba(0,0,0,0) 2px 4px);
  animation:crtFlicker 3.2s infinite ease-in-out alternate}
@keyframes crtFlicker{0%{opacity:.92} 5%{opacity:.88} 10%{opacity:.94} 20%{opacity:.9} 28%{opacity:.97} 40%{opacity:.93} 55%{opacity:.98} 70%{opacity:.91} 85%{opacity:.96} 100%{opacity:.94}}
body.theme-cia, body.theme-cia *{text-shadow:0 0 1px rgba(32,255,160,.55), 0 0 8px rgba(6,64,40,.3)}
.container{max-width:1100px;margin:0 auto;padding:1rem 1rem 6rem;position:relative;z-index:1}
header{display:flex;gap:1rem;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-top:.5rem}
h1{font-size:clamp(1.2rem,2.7vw,1.9rem);margin:.25rem 0;color:var(--head)}
.lead{color:var(--muted);max-width:80ch}
.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:1rem;box-shadow:var(--shadow)}
.row{display:grid;grid-template-columns:1fr;gap:1rem}
@media (min-width:880px){.row{grid-template-columns:1fr 1fr}}
.controls,.controls-top{display:flex;gap:.6rem;flex-wrap:wrap;align-items:center}
select,button{background:#0b1224;color:var(--text);border:1px solid var(--border);border-radius:10px;padding:.55rem .8rem;height:var(--btnH);cursor:pointer}
button.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#082f49;border-color:transparent}
button.ghost{background:transparent}
button.cia-toggle{background:#06200e;border-color:#14532d;color:#86efac}
body.theme-cia button.primary{background:#034f3a;color:#b4ffd9;border-color:#065f46}
body.theme-cia select, body.theme-cia button{background:#02150c;border-color:#0f3c2e}
label{color:var(--muted)}
details{border:1px dashed var(--border);border-radius:12px;padding:.6rem}
details[open]{background:#0b1224}
body.theme-cia details[open]{background:#00140c}
.q{display:grid;gap:.7rem;padding:1rem;border-radius:12px;background:#0b1224;border:1px solid var(--border)}
.q h3{margin:0;font-size:1rem;line-height:1.35}
.scale{display:flex;gap:.55rem;align-items:center;flex-wrap:wrap}
.scale input[type="range"]{width:280px}
.badge{display:inline-block;padding:.15rem .55rem;border-radius:999px;background:#111a33;color:#cbd5e1;border:1px solid #22355a;font-size:.8rem}
.value{min-width:36px;text-align:center}
body.theme-cia .q{background:#00140c}
body.theme-cia .badge{background:#032015;color:#bfffe2;border-color:#0f3c2e}
.result{display:grid;gap:.6rem;padding:1rem;border-radius:12px;background:#0a1222;border:1px solid var(--border)}
.score{font-size:2.2rem;font-weight:800}
.score.good{color:var(--good)} .score.warn{color:var(--warn)} .score.bad{color:var(--bad)}
small.help{color:var(--muted)}
body.theme-cia .result{background:#00140c}
.actionbar{position:fixed;left:0;right:0;bottom:0;z-index:9999;backdrop-filter: blur(6px);background:linear-gradient(180deg, rgba(8,14,24,.25), rgba(8,14,24,.65));border-top:1px solid var(--border)}
.actionbar .wrap{max-width:1100px;margin:0 auto;padding:.5rem .8rem;display:flex;gap:.5rem;align-items:center;justify-content:space-between}
.ab-left,.ab-right{display:flex;gap:.5rem;align-items:center}
.actionbar select{height:36px;padding:.3rem .6rem}
.actionbar button{height:36px;padding:.3rem .6rem;font-size:.95rem}
.actionbar .primary{background:linear-gradient(90deg,#22d3ee,#a78bfa)}
body.theme-cia .actionbar{background:rgba(0,26,18,.95)}
body.theme-cia .actionbar .primary{background:#0a7a55}
.hidden{display:none!important}
#workBadge{position:fixed;top:12px;right:12px;z-index:9997;padding:.25rem .5rem;border:1px dashed var(--border);background:rgba(0,0,0,.35);border-radius:8px;color:var(--muted);font-size:.85rem}

/* ==== ENHANCED WARNING SYSTEM ==== */
#takeover{position:fixed;inset:0;z-index:10000;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.92);backdrop-filter:blur(8px)}
#takeover.active{display:flex}
#takeover .panel{max-width:980px;width:94vw;border-radius:10px;padding:2rem;position:relative;overflow:hidden}

/* Color schemes for different levels */
#takeover .panel.level-safe{
  background:#001a0e;
  border:3px solid #10b981;
  box-shadow:0 0 0 4px #003d22 inset, 0 0 40px rgba(16,185,129,.4);
  animation:pulseGreen 2.5s ease-in-out infinite;
}
#takeover .panel.level-warn{
  background:#1a1000;
  border:3px solid #f59e0b;
  box-shadow:0 0 0 4px #3d2800 inset, 0 0 40px rgba(245,158,11,.4);
  animation:pulseAmber 2s ease-in-out infinite;
}
#takeover .panel.level-danger{
  background:#1a0000;
  border:3px solid #ef4444;
  box-shadow:0 0 0 4px #3d0000 inset, 0 0 50px rgba(239,68,68,.5);
  animation:pulseDanger 1s ease-in-out infinite;
}

@keyframes pulseGreen{
  0%, 100%{box-shadow:0 0 0 4px #003d22 inset, 0 0 30px rgba(16,185,129,.3)}
  50%{box-shadow:0 0 0 4px #003d22 inset, 0 0 50px rgba(16,185,129,.6)}
}
@keyframes pulseAmber{
  0%, 100%{box-shadow:0 0 0 4px #3d2800 inset, 0 0 30px rgba(245,158,11,.3)}
  50%{box-shadow:0 0 0 4px #3d2800 inset, 0 0 50px rgba(245,158,11,.6)}
}
@keyframes pulseDanger{
  0%, 100%{box-shadow:0 0 0 4px #3d0000 inset, 0 0 40px rgba(239,68,68,.4); transform:scale(1)}
  50%{box-shadow:0 0 0 4px #3d0000 inset, 0 0 70px rgba(239,68,68,.7); transform:scale(1.01)}
}

/* Warning icon */
.warning-icon{
  font-size:clamp(3rem,8vw,5rem);
  text-align:center;
  margin:0 0 1rem 0;
  display:block;
  line-height:1;
}
#takeover .panel.level-safe .warning-icon{
  color:#10b981;
  animation:iconBounce 2s ease-in-out infinite;
}
#takeover .panel.level-warn .warning-icon{
  color:#f59e0b;
  animation:iconShake 2s ease-in-out infinite;
}
#takeover .panel.level-danger .warning-icon{
  color:#ef4444;
  animation:iconBlink 0.6s ease-in-out infinite;
}

@keyframes iconBounce{
  0%, 100%{transform:translateY(0)}
  50%{transform:translateY(-8px)}
}
@keyframes iconShake{
  0%, 100%{transform:translateX(0)}
  25%{transform:translateX(-6px)}
  75%{transform:translateX(6px)}
}
@keyframes iconBlink{
  0%, 49%, 100%{opacity:1}
  50%, 99%{opacity:0.2}
}

/* Status indicator */
.status-bar{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:.8rem;
  margin:.5rem 0 1.2rem 0;
  font-family:var(--mono);
  font-size:.9rem;
  text-transform:uppercase;
  letter-spacing:1.5px;
}
.status-led{
  width:12px;
  height:12px;
  border-radius:50%;
  animation:ledPulse 1.5s ease-in-out infinite;
}
#takeover .panel.level-safe .status-led{background:#10b981;}
#takeover .panel.level-warn .status-led{background:#f59e0b;}
#takeover .panel.level-danger .status-led{background:#ef4444;}
@keyframes ledPulse{
  0%, 100%{opacity:1}
  50%{opacity:0.4}
}

/* Typography */
#takeover h1{
  margin:.2rem 0;
  font-family:var(--mono);
  font-size:clamp(1.2rem,3.5vw,2rem);
  text-transform:uppercase;
  letter-spacing:2px;
  text-align:center;
  line-height:1.2;
}
#takeover .panel.level-safe h1{color:#10b981;}
#takeover .panel.level-warn h1{color:#f59e0b;}
#takeover .panel.level-danger h1{color:#ef4444;}

.scorebig{
  font-size:clamp(2.5rem,9vw,5rem);
  text-align:center;
  margin:.8rem 0;
  font-weight:800;
  font-family:var(--mono);
  line-height:1;
}
#takeover .panel.level-safe .scorebig{color:#10b981;}
#takeover .panel.level-warn .scorebig{color:#f59e0b;}
#takeover .panel.level-danger .scorebig{color:#ef4444;}

.explain{
  font-family:var(--mono);
  text-align:center;
  max-width:70ch;
  margin:0 auto 1.5rem auto;
  line-height:1.6;
  font-size:clamp(.9rem,2vw,1rem);
}
#takeover .panel.level-safe .explain{color:#78e0b8;}
#takeover .panel.level-warn .explain{color:#fbbf24;}
#takeover .panel.level-danger .explain{color:#fca5a5;}

/* Scan lines effect */
.scan-effect{
  position:absolute;
  inset:0;
  pointer-events:none;
  opacity:.15;
  background:repeating-linear-gradient(0deg, transparent 0 2px, rgba(255,255,255,.03) 2px 4px);
  animation:scanMove 8s linear infinite;
}
@keyframes scanMove{
  0%{transform:translateY(0)}
  100%{transform:translateY(100%)}
}

/* Buttons */
.rowbtn{
  display:flex;
  gap:.8rem;
  justify-content:center;
  margin-top:1.5rem;
  flex-wrap:wrap;
}
.btn{
  background:rgba(0,0,0,.5);
  border:2px solid;
  color:inherit;
  border-radius:8px;
  padding:.7rem 1.4rem;
  cursor:pointer;
  font-family:var(--mono);
  font-size:.95rem;
  text-transform:uppercase;
  letter-spacing:1px;
  transition:all .2s;
}
#takeover .panel.level-safe .btn{border-color:#10b981; color:#10b981;}
#takeover .panel.level-safe .btn:hover{background:#10b981; color:#000;}
#takeover .panel.level-warn .btn{border-color:#f59e0b; color:#f59e0b;}
#takeover .panel.level-warn .btn:hover{background:#f59e0b; color:#000;}
#takeover .panel.level-danger .btn{border-color:#ef4444; color:#ef4444;}
#takeover .panel.level-danger .btn:hover{background:#ef4444; color:#000;}

.btn.primary{
  background:currentColor !important;
  color:#000 !important;
  font-weight:600;
}
#takeover .panel.level-safe .btn.primary{background:#10b981 !important;}
#takeover .panel.level-warn .btn.primary{background:#f59e0b !important;}
#takeover .panel.level-danger .btn.primary{background:#ef4444 !important;}

/* Responsive */
@media (max-width:640px){
  #takeover .panel{padding:1.5rem 1rem;}
  .rowbtn{gap:.5rem;}
  .btn{padding:.6rem 1rem; font-size:.85rem;}
}
</style>
</head>
<body>
<div class="crt-overlay hidden" id="crtOverlay"></div>
<div id="workBadge" class="hidden">–û–±—Ä–∞–±–æ—Ç–∫–∞...</div>

<div class="container" id="exportRoot">
  <header class="controls-top">
    <div>
      <h1 id="appTitle">–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–æ–≤–∏–Ω–∞: 20 —Å–∏–≥–Ω–∞–ª–∞ –∑–∞ –º–∞–Ω–∏–ø—É–ª–∞—Ü–∏—è</h1>
      <p class="lead" id="intro">–û—Ç–º–µ—Ç–Ω–∏ –ø–æ —Å–∫–∞–ª–∞ <strong>0‚Äì5</strong> –¥–æ–∫–æ–ª–∫–æ –≤—Å–µ–∫–∏ —Å–∏–≥–Ω–∞–ª –ø—Ä–∏—Å—ä—Å—Ç–≤–∞. –ù–∞—Ç–∏—Å–Ω–∏ <em>–ò–∑—á–∏—Å–ª–∏</em>, –ø–æ—Å–ª–µ <em>–†–µ–∑—É–ª—Ç–∞—Ç–∏</em> –∏ —Å–≤–∞–ª–∏ PNG.</p>
    </div>
    <div class="controls" role="group" aria-label="–û—Å–Ω–æ–≤–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏">
      <label for="lang" id="langLabel">–ï–∑–∏–∫:</label>
      <select id="lang" aria-label="–ò–∑–±–æ—Ä –Ω–∞ –µ–∑–∏–∫">
        <option value="bg">üáßüá¨ –ë—ä–ª–≥–∞—Ä—Å–∫–∏</option>
        <option value="en">üá¨üáß English</option>
        <option value="de">üá©üá™ Deutsch</option>
        <option value="fr">üá´üá∑ Fran√ßais</option>
        <option value="es">üá™üá∏ Espa√±ol</option>
        <option value="it">üáÆüáπ Italiano</option>
        <option value="pl">üáµüá± Polski</option>
        <option value="ro">üá∑üá¥ Rom√¢nƒÉ</option>
        <option value="cs">üá®üáø ƒåe≈°tina</option>
        <option value="hu">üá≠üá∫ Magyar</option>
      </select>
      <button class="cia-toggle" id="ciaBtn" title="CIA Terminal">CIA Terminal</button>
      <button class="ghost" id="resetBtn">–ù—É–ª–∏—Ä–∞–π</button>
      <button class="ghost" id="resultsBtn">–†–µ–∑—É–ª—Ç–∞—Ç–∏</button>
    </div>
  </header>

  <details style="margin-top:1.2rem">
    <summary id="methodSummary" style="cursor:pointer;font-weight:600;color:var(--accent)">üìã –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è</summary>
    <p id="methodText" style="margin-top:.6rem;color:var(--muted);line-height:1.6">–¢–æ–∑–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ—Ü–µ–Ω—è–≤–∞ –Ω–∞–ª–∏—á–∏–µ—Ç–æ –Ω–∞ 20 –∏–∑–≤–µ—Å—Ç–Ω–∏ —Å–∏–≥–Ω–∞–ª–∞ –∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞ –º–∞–Ω–∏–ø—É–ª–∞—Ü–∏—è, –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏ –≤ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏. –í—Å–µ–∫–∏ —Å–∏–≥–Ω–∞–ª —Å–µ –æ—Ü–µ–Ω—è–≤–∞ –æ—Ç 0 (–æ—Ç—Å—ä—Å—Ç–≤–∞) –¥–æ 5 (–º–Ω–æ–≥–æ —Å–∏–ª–Ω–æ –ø—Ä–∏—Å—ä—Å—Ç–≤–∞). –ö—Ä–∞–π–Ω–∏—è—Ç —Ä–µ–∑—É–ª—Ç–∞—Ç –ø–æ–∫–∞–∑–≤–∞ –æ–±—â–∞—Ç–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç –∑–∞ –º–∞–Ω–∏–ø—É–ª–∞—Ü–∏—è.</p>
  </details>

  <section class="card" style="margin-top:1.5rem">
    <h2 id="signalsTitle" style="margin:0 0 1rem 0; font-size:1.3rem; color:var(--head)">–û—Ü–µ–Ω–∫–∞ –Ω–∞ —Å–∏–≥–Ω–∞–ª–∏—Ç–µ</h2>
    <div id="questions" style="display:grid;gap:.8rem"></div>
  </section>

  <section class="card" style="margin-top:1.5rem">
    <h2 id="resultTitle" style="margin:0 0 1rem 0; font-size:1.3rem; color:var(--head)">–†–µ–∑—É–ª—Ç–∞—Ç</h2>
    <div class="result">
      <div class="score good" id="score">0/100</div>
      <p id="interp" style="margin:.2rem 0; font-weight:500"></p>
      <small class="help" id="advice"></small>
    </div>
  </section>
</div>

<div class="actionbar">
  <div class="wrap">
    <div class="ab-left">
      <label for="abLang" style="font-size:.85rem">–ï–∑–∏–∫:</label>
      <select id="abLang" aria-label="–ò–∑–±–æ—Ä –Ω–∞ –µ–∑–∏–∫">
        <option value="bg">üáßüá¨ BG</option>
        <option value="en">üá¨üáß EN</option>
        <option value="de">üá©üá™ DE</option>
        <option value="fr">üá´üá∑ FR</option>
        <option value="es">üá™üá∏ ES</option>
        <option value="it">üáÆüáπ IT</option>
        <option value="pl">üáµüá± PL</option>
        <option value="ro">üá∑üá¥ RO</option>
        <option value="cs">üá®üáø CS</option>
        <option value="hu">üá≠üá∫ HU</option>
      </select>
      <button class="cia-toggle" id="abCiaBtn" title="–ü—Ä–µ–≤–∫–ª—é—á–∏ CIA —Ä–µ–∂–∏–º">CRT</button>
    </div>
    <div class="ab-right">
      <button class="ghost" id="abResetBtn">–ù—É–ª–∏—Ä–∞–π</button>
      <button class="primary" id="abCalcBtn">–ò–∑—á–∏—Å–ª–∏</button>
      <button class="primary" id="abResultsBtn">–†–µ–∑—É–ª—Ç–∞—Ç–∏</button>
    </div>
  </div>
</div>

<!-- ENHANCED TAKEOVER MODAL -->
<div id="takeover">
  <div class="panel" id="takeoverPanel">
    <div class="scan-effect"></div>
    <span class="warning-icon" id="takeoverIcon">‚úì</span>
    <div class="status-bar">
      <span class="status-led"></span>
      <span id="takeoverStatus">–°–ò–°–¢–ï–ú–ê –ê–ù–ê–õ–ò–ó</span>
    </div>
    <h1 id="takeoverTitle">–†–ï–ó–£–õ–¢–ê–¢–ò</h1>
    <div class="scorebig" id="takeoverScore">0/100</div>
    <p class="explain" id="takeoverExplain"></p>
    <div class="rowbtn">
      <button class="btn primary" id="takeoverSave">–°–í–ê–õ–ò PNG</button>
      <button class="btn" id="takeoverPDF">–°–í–ê–õ–ò PDF</button>
      <button class="btn" id="takeoverClose">–ó–ê–¢–í–û–†–ò</button>
    </div>
  </div>
</div>

<script>
/* ==== Questions in all languages ==== */
const QUESTIONS = {
  bg: [
    "–í—Ä–µ–º–µ—Ç–æ —Å—ä–≤–ø–∞–¥–∞ —Å –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ç–∏—Å–∫ –∏–ª–∏ –∫–ª—é—á–æ–≤–æ —Å—ä–±–∏—Ç–∏–µ",
    "–°–∏–ª–Ω–∞ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞ –º–∞–Ω–∏–ø—É–ª–∞—Ü–∏—è (—Å—Ç—Ä–∞—Ö/–≥–Ω—è–≤/–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ)",
    "–ï–¥–Ω–∞–∫–≤–∞ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –≤ —Ä–∞–∑–ª–∏—á–Ω–∏ –º–µ–¥–∏–∏",
    "–õ–∏–ø—Å–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∏–º–∏ –ø—ä—Ä–≤–∏—á–Ω–∏ –∏–∑—Ç–æ—á–Ω–∏—Ü–∏",
    "–ù–∞—Ç–∏—Å–∫ –æ—Ç –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç –≤–º–µ—Å—Ç–æ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—Å—Ç–≤–∞",
    "–°–µ–ª–µ–∫—Ç–∏–≤–Ω–∏ –¥–∞–Ω–Ω–∏; –ø—Ä–æ–ø—É—Å–∫–∞–Ω–µ –Ω–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–∏",
    "–ü–æ—Ç–∏—Å–∫–∞–Ω–µ –Ω–∞ –¥–∏—Å–∏–¥–µ–Ω—Ç—Å–∫–∏ –º–Ω–µ–Ω–∏—è / –µ—Ç–∏–∫–µ—Ç–∏—Ä–∞–Ω–µ '–∫–æ–Ω—Å–ø–∏—Ä–∞—Ü–∏—è'",
    "–§–∏–Ω–∞–Ω—Å–æ–≤–∞ –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–æ—Å—Ç / –∫–æ–Ω—Ñ–ª–∏–∫—Ç –Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å–∏",
    "–ò–∑–∫—É—Å—Ç–≤–µ–Ω–∞ '–º–∞—Å–æ–≤–æ—Å—Ç' (astroturfing), –±–æ—Ç–æ–≤–µ",
    "–ü–ª–µ–º–µ–Ω–Ω–∞ —Ä–∞–º–∫–∞ ('–Ω–∏–µ —Å—Ä–µ—â—É —Ç—è—Ö')",
    "–ò–∑–∫—É—Å—Ç–≤–µ–Ω–∞ —Å–ø–µ—à–Ω–æ—Å—Ç ('–¥–µ–π—Å—Ç–≤–∞–π—Ç–µ —Å–µ–≥–∞')",
    "–ü—Ä–µ–º–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ –≥–æ–ª –ø–æ—Å—Ç–æ–≤–µ—Ç–µ / –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ –¥–µ—Ñ–∏–Ω–∏—Ü–∏–∏—Ç–µ",
    "–ê—Ç–∞–∫–∏ —Å—Ä–µ—â—É –ª–∏—á–Ω–æ—Å—Ç—Ç–∞ / –∏–∑–∫—Ä–∏–≤—è–≤–∞–Ω–µ –Ω–∞ –ø–æ–∑–∏—Ü–∏—è—Ç–∞",
    "–ú–∞–Ω–∏–ø—É–ª–∏—Ä–∞–Ω–∏/–∏–∑–≤—ä–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è/–≤–∏–¥–µ–∞",
    "–ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–Ω–æ —É—Å–∏–ª–≤–∞–Ω–µ (–≤–Ω–µ–∑–∞–ø–Ω–∏ –ø–∏–∫–æ–≤–µ, –±–æ—Ç‚Äë–º–æ–¥–µ–ª–∏)",
    "–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç –æ—Ç –µ–¥–∏–Ω (–∞–Ω–æ–Ω–∏–º–µ–Ω/–Ω–µ–ø–æ—Ç–≤—ä—Ä–¥–µ–Ω) –∏–∑—Ç–æ—á–Ω–∏–∫",
    "–ù–µ–ø—Ä–æ–≤–µ—Ä–∏–º–æ—Å—Ç / –Ω–µ—Ñ–∞–ª—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ–º–∏ —Ç–≤—ä—Ä–¥–µ–Ω–∏—è",
    "–ë–µ–∑ –ø–æ—Å–ª–µ–¥–≤–∞—â–∏ –∫–æ—Ä–µ–∫—Ü–∏–∏/–∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏",
    "–í–æ–¥–µ—â–∏/—Ä–∏—Ç–æ—Ä–∏—á–Ω–∏ –≤—ä–ø—Ä–æ—Å–∏ –≤–º–µ—Å—Ç–æ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—Å—Ç–≤–∞",
    "–ò—Å—Ç–æ—Ä–∏—è—Ç–∞ –¥–æ–º–∏–Ω–∏—Ä–∞ –Ω–∞–¥ –¥–∞–Ω–Ω–∏—Ç–µ (–µ–º–æ—Ü–∏—è > —Ñ–∞–∫—Ç–∏)"
  ],
  en: [
    "Timing aligns with policy push or key event",
    "Strong emotional manipulation (fear/anger/disgust)",
    "Uniform messaging across outlets",
    "Missing verifiable primary sources",
    "Authority pressure instead of evidence",
    "Cherry-picked data; omission of counter-evidence",
    "Suppression of dissent / 'conspiracy' labeling",
    "Financial incentive / conflict of interest",
    "Astroturfing (fake grassroots), bots",
    "Tribal framing ('us vs them')",
    "Artificial urgency ('act now')",
    "Moving goalposts / shifting definitions",
    "Ad hominem / straw-man attacks",
    "Manipulated or out-of-context images/videos",
    "Algorithmic amplification (sudden spikes, bots)",
    "Single-source dependency (anonymous/unverified)",
    "Non-falsifiable / untestable claims",
    "No corrections when facts change",
    "Leading/rhetorical questions instead of evidence",
    "Story first, data later (emotion > facts)"
  ],
  de: [
    "Zeitpunkt stimmt mit politischem Druck √ºberein",
    "Starke emotionale Manipulation (Angst/Wut/Ekel)",
    "Einheitliche Botschaft in verschiedenen Medien",
    "Fehlende √ºberpr√ºfbare Prim√§rquellen",
    "Autorit√§tsdruck statt Beweise",
    "Selektive Daten; Weglassen von Gegenbeweisen",
    "Unterdr√ºckung abweichender Meinungen",
    "Finanzieller Anreiz / Interessenkonflikt",
    "Astroturfing (gef√§lschte Graswurzeln), Bots",
    "Stammesdenken ('wir gegen sie')",
    "K√ºnstliche Dringlichkeit ('jetzt handeln')",
    "Verschieben der Torpfosten",
    "Ad hominem / Strohmann-Angriffe",
    "Manipulierte Bilder/Videos",
    "Algorithmische Verst√§rkung",
    "Abh√§ngigkeit von einzelner Quelle",
    "Nicht falsifizierbare Behauptungen",
    "Keine Korrekturen bei Fakten√§nderung",
    "Suggestivfragen statt Beweise",
    "Geschichte zuerst, Daten sp√§ter"
  ],
  fr: [
    "Le moment co√Øncide avec une pression politique",
    "Forte manipulation √©motionnelle (peur/col√®re)",
    "Message uniforme dans diff√©rents m√©dias",
    "Absence de sources primaires v√©rifiables",
    "Pression d'autorit√© au lieu de preuves",
    "Donn√©es s√©lectives; omission de contre-preuves",
    "Suppression de la dissidence",
    "Incitation financi√®re / conflit d'int√©r√™ts",
    "Astroturfing (faux mouvement populaire)",
    "Cadrage tribal ('nous contre eux')",
    "Urgence artificielle ('agir maintenant')",
    "D√©placement des poteaux de but",
    "Attaques ad hominem / homme de paille",
    "Images/vid√©os manipul√©es",
    "Amplification algorithmique",
    "D√©pendance d'une source unique",
    "Affirmations non falsifiables",
    "Pas de corrections",
    "Questions suggestives au lieu de preuves",
    "Histoire d'abord, donn√©es apr√®s"
  ],
  es: [
    "El momento coincide con presi√≥n pol√≠tica",
    "Fuerte manipulaci√≥n emocional (miedo/ira)",
    "Mensaje uniforme en diferentes medios",
    "Falta de fuentes primarias verificables",
    "Presi√≥n de autoridad en lugar de evidencia",
    "Datos selectivos; omisi√≥n de contra-evidencia",
    "Supresi√≥n de disidencia",
    "Incentivo financiero / conflicto de intereses",
    "Astroturfing (movimiento popular falso)",
    "Marco tribal ('nosotros contra ellos')",
    "Urgencia artificial ('actuar ahora')",
    "Mover los postes / cambiar definiciones",
    "Ataques ad hominem / hombre de paja",
    "Im√°genes/videos manipulados",
    "Amplificaci√≥n algor√≠tmica",
    "Dependencia de fuente √∫nica",
    "Afirmaciones no falsificables",
    "Sin correcciones",
    "Preguntas ret√≥ricas en lugar de evidencia",
    "Historia primero, datos despu√©s"
  ],
  it: [
    "Il momento coincide con pressione politica",
    "Forte manipolazione emotiva (paura/rabbia)",
    "Messaggio uniforme in diversi media",
    "Mancanza di fonti primarie verificabili",
    "Pressione dell'autorit√† invece di prove",
    "Dati selettivi; omissione di contro-prove",
    "Soppressione del dissenso",
    "Incentivo finanziario / conflitto di interessi",
    "Astroturfing (movimento popolare falso)",
    "Inquadramento tribale ('noi contro loro')",
    "Urgenza artificiale ('agire ora')",
    "Spostamento dei pali",
    "Attacchi ad hominem / uomo di paglia",
    "Immagini/video manipolati",
    "Amplificazione algoritmica",
    "Dipendenza da fonte unica",
    "Affermazioni non falsificabili",
    "Nessuna correzione",
    "Domande retoriche invece di prove",
    "Storia prima, dati dopo"
  ],
  pl: [
    "Czas pokrywa siƒô z naciskiem politycznym",
    "Silna manipulacja emocjonalna (strach/gniew)",
    "Jednolity przekaz w r√≥≈ºnych mediach",
    "Brak weryfikowalnych ≈∫r√≥de≈Ç pierwotnych",
    "Presja autorytetu zamiast dowod√≥w",
    "Selektywne dane; pomijanie przeciwdowod√≥w",
    "T≈Çumienie sprzeciwu",
    "Zachƒôta finansowa / konflikt interes√≥w",
    "Astroturfing (fa≈Çszywy ruch oddolny)",
    "Ramowanie plemienne ('my przeciwko nim')",
    "Sztuczna pilno≈õƒá ('dzia≈Çaj teraz')",
    "Przesuwanie bramek",
    "Ataki ad hominem / choch√≥≈Ç",
    "Zmanipulowane obrazy/filmy",
    "Wzmocnienie algorytmiczne",
    "Zale≈ºno≈õƒá od pojedynczego ≈∫r√≥d≈Ça",
    "Twierdzenia niemo≈ºliwe do sfalsyfikowania",
    "Brak poprawek",
    "Pytania retoryczne zamiast dowod√≥w",
    "Historia najpierw, dane p√≥≈∫niej"
  ],
  ro: [
    "Momentul coincide cu presiune politicƒÉ",
    "Manipulare emo»õionalƒÉ puternicƒÉ (fricƒÉ/furie)",
    "Mesaj uniform √Æn diferite media",
    "Lipsa surselor primare verificabile",
    "Presiune de autoritate √Æn loc de dovezi",
    "Date selective; omiterea contra-dovezilor",
    "Suprimarea diziden»õei",
    "Stimulent financiar / conflict de interese",
    "Astroturfing (mi»ôcare popularƒÉ falsƒÉ)",
    "√éncadrare tribalƒÉ ('noi contra lor')",
    "Urgen»õƒÉ artificialƒÉ ('ac»õioneazƒÉ acum')",
    "Mutarea »õintelor",
    "Atacuri ad hominem / om de paie",
    "Imagini/videoclipuri manipulate",
    "Amplificare algoritmicƒÉ",
    "Dependen»õƒÉ de o singurƒÉ sursƒÉ",
    "Afirma»õii nefalsificabile",
    "FƒÉrƒÉ corec»õii",
    "√éntrebƒÉri retorice √Æn loc de dovezi",
    "Povestea √Ænt√¢i, datele dupƒÉ"
  ],
  cs: [
    "Naƒçasov√°n√≠ se shoduje s politick√Ωm tlakem",
    "Siln√° emocion√°ln√≠ manipulace (strach/hnƒõv)",
    "Jednotn√© sdƒõlen√≠ v r≈Øzn√Ωch m√©di√≠ch",
    "Chybƒõj√≠c√≠ ovƒõ≈ôiteln√© prim√°rn√≠ zdroje",
    "Tlak autority m√≠sto d≈Økaz≈Ø",
    "Selektivn√≠ data; vynech√°n√≠ protid≈Økaz≈Ø",
    "Potlaƒçov√°n√≠ nesouhlasu",
    "Finanƒçn√≠ pob√≠dka / konflikt z√°jm≈Ø",
    "Astroturfing (fale≈°n√© masov√© hnut√≠)",
    "Kmenov√© r√°mov√°n√≠ ('my proti nim')",
    "Umƒõl√° nal√©havost ('jednat teƒè')",
    "Posouv√°n√≠ branky",
    "√ötoky ad hominem / stra≈°√°k",
    "Manipulovan√© obr√°zky/videa",
    "Algoritmick√© zes√≠len√≠",
    "Z√°vislost na jednom zdroji",
    "Nevyvratiteln√° tvrzen√≠",
    "≈Ω√°dn√© opravy",
    "Sugestivn√≠ ot√°zky m√≠sto d≈Økaz≈Ø",
    "P≈ô√≠bƒõh nap≈ôed, data potom"
  ],
  hu: [
    "Az id≈ëz√≠t√©s egybeesik politikai nyom√°ssal",
    "Er≈ës √©rzelmi manipul√°ci√≥ (f√©lelem/d√ºh)",
    "Egys√©ges √ºzenet k√ºl√∂nb√∂z≈ë m√©di√°kban",
    "Hi√°nyz√≥ ellen≈ërizhet≈ë els≈ëdleges forr√°sok",
    "Tekint√©lyi nyom√°s bizony√≠t√©kok helyett",
    "Szelekt√≠v adatok; ellenbizony√≠t√©kok elhagy√°sa",
    "Ellenv√©lem√©nyek elnyom√°sa",
    "P√©nz√ºgyi √∂szt√∂nz√©s / √∂sszef√©rhetetlens√©g",
    "Astroturfing (hamis t√∂megmozgalom)",
    "T√∂rzsi keretez√©s ('mi ellen√ºk')",
    "Mesters√©ges s√ºrg≈ëss√©g ('cselekedj most')",
    "Kapufa mozgat√°sa",
    "Ad hominem / szalmab√°b t√°mad√°sok",
    "Manipul√°lt k√©pek/vide√≥k",
    "Algoritmikus er≈ës√≠t√©s",
    "Egyetlen forr√°st√≥l val√≥ f√ºgg√©s",
    "Nem c√°folhat√≥ √°ll√≠t√°sok",
    "Nincs jav√≠t√°s",
    "Vezet≈ë k√©rd√©sek bizony√≠t√©kok helyett",
    "T√∂rt√©net el≈ësz√∂r, adatok k√©s≈ëbb"
  ]
};

/* ==== I18N translations ==== */
const I18N = {
  bg:{
    title:"–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–æ–≤–∏–Ω–∞: 20 —Å–∏–≥–Ω–∞–ª–∞ –∑–∞ –º–∞–Ω–∏–ø—É–ª–∞—Ü–∏—è",
    intro:"–û—Ç–º–µ—Ç–Ω–∏ –ø–æ —Å–∫–∞–ª–∞ <strong>0‚Äì5</strong> –¥–æ–∫–æ–ª–∫–æ –≤—Å–µ–∫–∏ —Å–∏–≥–Ω–∞–ª –ø—Ä–∏—Å—ä—Å—Ç–≤–∞. –ù–∞—Ç–∏—Å–Ω–∏ <em>–ò–∑—á–∏—Å–ª–∏</em>, –ø–æ—Å–ª–µ <em>–†–µ–∑—É–ª—Ç–∞—Ç–∏</em> –∏ —Å–≤–∞–ª–∏ PNG.",
    results:"–†–µ–∑—É–ª—Ç–∞—Ç–∏", 
    save:"–°–≤–∞–ª–∏ PNG", 
    savePDF:"–°–≤–∞–ª–∏ PDF",
    ok:"–ó–∞—Ç–≤–æ—Ä–∏", 
    calc:"–ò–∑—á–∏—Å–ª–∏",
    reset:"–ù—É–ª–∏—Ä–∞–π",
    langLabel:"–ï–∑–∏–∫:",
    methodology:"üìã –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è",
    methodText:"–¢–æ–∑–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ—Ü–µ–Ω—è–≤–∞ –Ω–∞–ª–∏—á–∏–µ—Ç–æ –Ω–∞ 20 –∏–∑–≤–µ—Å—Ç–Ω–∏ —Å–∏–≥–Ω–∞–ª–∞ –∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞ –º–∞–Ω–∏–ø—É–ª–∞—Ü–∏—è, –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏ –≤ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏. –í—Å–µ–∫–∏ —Å–∏–≥–Ω–∞–ª —Å–µ –æ—Ü–µ–Ω—è–≤–∞ –æ—Ç 0 (–æ—Ç—Å—ä—Å—Ç–≤–∞) –¥–æ 5 (–º–Ω–æ–≥–æ —Å–∏–ª–Ω–æ –ø—Ä–∏—Å—ä—Å—Ç–≤–∞). –ö—Ä–∞–π–Ω–∏—è—Ç —Ä–µ–∑—É–ª—Ç–∞—Ç –ø–æ–∫–∞–∑–≤–∞ –æ–±—â–∞—Ç–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç –∑–∞ –º–∞–Ω–∏–ø—É–ª–∞—Ü–∏—è.",
    signalsTitle:"–û—Ü–µ–Ω–∫–∞ –Ω–∞ —Å–∏–≥–Ω–∞–ª–∏—Ç–µ",
    resultTitle:"–†–µ–∑—É–ª—Ç–∞—Ç",
    status:{
      safe:"–ù–Ø–ú–ê –ú–ê–ù–ò–ü–£–õ–ê–¶–ò–Ø",
      warn:"–£–ú–ï–†–ï–ù–ê –í–ï–†–û–Ø–¢–ù–û–°–¢",
      danger:"–£–°–¢–ê–ù–û–í–ï–ù–ê –ú–ê–ù–ò–ü–£–õ–ê–¶–ò–Ø"
    },
    interp:{
      safe:"–ù–∏—Å—ä–∫ —Ä–µ–∑—É–ª—Ç–∞—Ç: –ù–µ —Å–∞ –æ—Ç–∫—Ä–∏—Ç–∏ –∑–Ω–∞—á–∏—Ç–µ–ª–Ω–∏ —Å–ª–µ–¥–∏ –æ—Ç –º–∞–Ω–∏–ø—É–ª–∞—Ü–∏—è. –ù–æ–≤–∏–Ω–∞—Ç–∞ –∏–∑–≥–ª–µ–∂–¥–∞ –Ω–∞–¥–µ–∂–¥–Ω–∞, –Ω–æ –≤–∏–Ω–∞–≥–∏ –ø—Ä–æ–≤–µ—Ä—è–≤–∞–π—Ç–µ –ø—ä—Ä–≤–∏—á–Ω–∏—Ç–µ –∏–∑—Ç–æ—á–Ω–∏—Ü–∏.",
      mixed:"–°–º–µ—Å–µ–Ω–∏ —Å–∏–≥–Ω–∞–ª–∏: –û—Ç–∫—Ä–∏—Ç–∏ —Å–∞ –Ω—è–∫–æ–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –Ω–∞ –º–∞–Ω–∏–ø—É–ª–∞—Ü–∏—è. –ü—Ä–µ–ø–æ—Ä—ä—á–≤–∞ —Å–µ –∫—Ä–∏—Ç–∏—á–µ–Ω –∞–Ω–∞–ª–∏–∑ –∏ –∫—Ä—ä—Å—Ç–æ—Å–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å –Ω–µ–∑–∞–≤–∏—Å–∏–º–∏ –∏–∑—Ç–æ—á–Ω–∏—Ü–∏.",
      danger:"–í–∏—Å–æ–∫ —Ä–µ–∑—É–ª—Ç–∞—Ç: –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï! –£—Å—Ç–∞–Ω–æ–≤–µ–Ω–∏ —Å–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–∏–ª–Ω–∏ —Å–∏–≥–Ω–∞–ª–∏ –∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞ –º–∞–Ω–∏–ø—É–ª–∞—Ü–∏—è. –¢–∞–∑–∏ –Ω–æ–≤–∏–Ω–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ –µ —á–∞—Å—Ç –æ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–∞–Ω–∞ –∫–∞–º–ø–∞–Ω–∏—è –∑–∞ –≤–ª–∏—è–Ω–∏–µ."
    }, 
    advice:"–í–∏–Ω–∞–≥–∏: –ø—Ä–æ–≤–µ—Ä—è–≤–∞–π—Ç–µ –ø—ä—Ä–≤–∏—á–Ω–∏ –∏–∑—Ç–æ—á–Ω–∏—Ü–∏, —Ç—ä—Ä—Å–µ—Ç–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º–∏ –ø–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏—è, –ø—Ä–∞–≤–µ—Ç–µ –æ–±—Ä–∞—Ç–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.",
    badges:{none:"–Ω—è–º–∞", veryStrong:"–º–Ω–æ–≥–æ —Å–∏–ª–µ–Ω"}
  },
  en:{
    title:"News Check: 20 Manipulation Signals",
    intro:"Rate each signal on a scale of <strong>0‚Äì5</strong>. Click <em>Calculate</em>, then <em>Results</em> and download PNG.",
    results:"Results", 
    save:"Download PNG",
    savePDF:"Download PDF", 
    ok:"Close", 
    calc:"Calculate",
    reset:"Reset",
    langLabel:"Language:",
    methodology:"üìã Methodology",
    methodText:"This tool evaluates 20 known information manipulation signals used in psychological operations. Each signal is rated 0 (absent) to 5 (very strong). The final score shows overall manipulation probability.",
    signalsTitle:"Signal Assessment",
    resultTitle:"Result",
    status:{
      safe:"NO MANIPULATION",
      warn:"MODERATE PROBABILITY",
      danger:"MANIPULATION DETECTED"
    },
    interp:{
      safe:"Low score: No significant manipulation traces detected. News appears reliable, but always verify primary sources.",
      mixed:"Mixed signals: Some manipulation characteristics detected. Critical analysis and cross-verification recommended.",
      danger:"High score: WARNING! Multiple strong manipulation signals detected. This news is likely part of a coordinated influence campaign."
    }, 
    advice:"Always: verify primary sources, seek independent confirmations, do reverse image search.",
    badges:{none:"none", veryStrong:"very strong"}
  },
  de:{
    title:"Nachrichtenpr√ºfung: 20 Manipulationssignale",
    intro:"Bewerten Sie jedes Signal auf einer Skala von <strong>0‚Äì5</strong>. Klicken Sie auf <em>Berechnen</em>, dann <em>Ergebnisse</em>.",
    results:"Ergebnisse",
    save:"PNG herunterladen",
    savePDF:"PDF herunterladen",
    ok:"Schlie√üen",
    calc:"Berechnen",
    reset:"Zur√ºcksetzen",
    langLabel:"Sprache:",
    methodology:"üìã Methodik",
    methodText:"Dieses Tool bewertet 20 bekannte Informationsmanipulationssignale aus psychologischen Operationen. Jedes Signal wird von 0 (nicht vorhanden) bis 5 (sehr stark) bewertet.",
    signalsTitle:"Signalbewertung",
    resultTitle:"Ergebnis",
    status:{
      safe:"KEINE MANIPULATION",
      warn:"M√ÑSSIGE WAHRSCHEINLICHKEIT",
      danger:"MANIPULATION FESTGESTELLT"
    },
    interp:{
      safe:"Niedriger Score: Keine signifikanten Manipulationsspuren. Nachricht erscheint zuverl√§ssig.",
      mixed:"Gemischte Signale: Einige Manipulationsmerkmale erkannt. Kritische Analyse empfohlen.",
      danger:"Hoher Score: WARNUNG! Mehrere starke Manipulationssignale erkannt."
    },
    advice:"Immer: Prim√§rquellen pr√ºfen, unabh√§ngige Best√§tigungen suchen.",
    badges:{none:"keine", veryStrong:"sehr stark"}
  },
  fr:{
    title:"V√©rification: 20 signaux de manipulation",
    intro:"√âvaluez chaque signal sur une √©chelle de <strong>0‚Äì5</strong>. Cliquez sur <em>Calculer</em>, puis <em>R√©sultats</em>.",
    results:"R√©sultats",
    save:"T√©l√©charger PNG",
    savePDF:"T√©l√©charger PDF",
    ok:"Fermer",
    calc:"Calculer",
    reset:"R√©initialiser",
    langLabel:"Langue:",
    methodology:"üìã M√©thodologie",
    methodText:"Cet outil √©value 20 signaux connus de manipulation de l'information utilis√©s dans les op√©rations psychologiques. Chaque signal est not√© de 0 (absent) √† 5 (tr√®s fort).",
    signalsTitle:"√âvaluation des signaux",
    resultTitle:"R√©sultat",
    status:{
      safe:"PAS DE MANIPULATION",
      warn:"PROBABILIT√â MOD√âR√âE",
      danger:"MANIPULATION D√âTECT√âE"
    },
    interp:{
      safe:"Score faible: Aucune trace significative de manipulation. L'actualit√© semble fiable.",
      mixed:"Signaux mixtes: Certaines caract√©ristiques de manipulation d√©tect√©es.",
      danger:"Score √©lev√©: ATTENTION! Plusieurs signaux forts de manipulation d√©tect√©s."
    },
    advice:"Toujours: v√©rifier les sources primaires, rechercher des confirmations ind√©pendantes.",
    badges:{none:"aucun", veryStrong:"tr√®s fort"}
  },
  es:{
    title:"Verificaci√≥n: 20 se√±ales de manipulaci√≥n",
    intro:"Califica cada se√±al en una escala de <strong>0‚Äì5</strong>. Haz clic en <em>Calcular</em>, luego <em>Resultados</em>.",
    results:"Resultados",
    save:"Descargar PNG",
    savePDF:"Descargar PDF",
    ok:"Cerrar",
    calc:"Calcular",
    reset:"Reiniciar",
    langLabel:"Idioma:",
    methodology:"üìã Metodolog√≠a",
    methodText:"Esta herramienta eval√∫a 20 se√±ales conocidas de manipulaci√≥n de informaci√≥n utilizadas en operaciones psicol√≥gicas. Cada se√±al se califica de 0 (ausente) a 5 (muy fuerte).",
    signalsTitle:"Evaluaci√≥n de se√±ales",
    resultTitle:"Resultado",
    status:{
      safe:"SIN MANIPULACI√ìN",
      warn:"PROBABILIDAD MODERADA",
      danger:"MANIPULACI√ìN DETECTADA"
    },
    interp:{
      safe:"Puntuaci√≥n baja: No se detectaron rastros significativos de manipulaci√≥n.",
      mixed:"Se√±ales mixtas: Se detectaron algunas caracter√≠sticas de manipulaci√≥n.",
      danger:"Puntuaci√≥n alta: ¬°ADVERTENCIA! Se detectaron m√∫ltiples se√±ales fuertes."
    },
    advice:"Siempre: verifica fuentes primarias, busca confirmaciones independientes.",
    badges:{none:"ninguno", veryStrong:"muy fuerte"}
  },
  it:{
    title:"Verifica: 20 segnali di manipolazione",
    intro:"Valuta ogni segnale su una scala da <strong>0‚Äì5</strong>. Clicca su <em>Calcola</em>, poi <em>Risultati</em>.",
    results:"Risultati",
    save:"Scarica PNG",
    savePDF:"Scarica PDF",
    ok:"Chiudi",
    calc:"Calcola",
    reset:"Ripristina",
    langLabel:"Lingua:",
    methodology:"üìã Metodologia",
    methodText:"Questo strumento valuta 20 segnali noti di manipolazione dell'informazione utilizzati nelle operazioni psicologiche. Ogni segnale √® valutato da 0 (assente) a 5 (molto forte).",
    signalsTitle:"Valutazione dei segnali",
    resultTitle:"Risultato",
    status:{
      safe:"NESSUNA MANIPOLAZIONE",
      warn:"PROBABILIT√Ä MODERATA",
      danger:"MANIPOLAZIONE RILEVATA"
    },
    interp:{
      safe:"Punteggio basso: Nessuna traccia significativa di manipolazione rilevata.",
      mixed:"Segnali misti: Alcune caratteristiche di manipolazione rilevate.",
      danger:"Punteggio alto: ATTENZIONE! Rilevati molteplici segnali forti."
    },
    advice:"Sempre: verifica fonti primarie, cerca conferme indipendenti.",
    badges:{none:"nessuno", veryStrong:"molto forte"}
  },
  pl:{
    title:"Sprawdzanie: 20 sygna≈Ç√≥w manipulacji",
    intro:"Oce≈Ñ ka≈ºdy sygna≈Ç w skali od <strong>0‚Äì5</strong>. Kliknij <em>Oblicz</em>, nastƒôpnie <em>Wyniki</em>.",
    results:"Wyniki",
    save:"Pobierz PNG",
    savePDF:"Pobierz PDF",
    ok:"Zamknij",
    calc:"Oblicz",
    reset:"Resetuj",
    langLabel:"Jƒôzyk:",
    methodology:"üìã Metodologia",
    methodText:"To narzƒôdzie ocenia 20 znanych sygna≈Ç√≥w manipulacji informacjƒÖ u≈ºywanych w operacjach psychologicznych. Ka≈ºdy sygna≈Ç jest oceniany od 0 (brak) do 5 (bardzo silny).",
    signalsTitle:"Ocena sygna≈Ç√≥w",
    resultTitle:"Wynik",
    status:{
      safe:"BRAK MANIPULACJI",
      warn:"UMIARKOWANE PRAWDOPODOBIE≈ÉSTWO",
      danger:"WYKRYTO MANIPULACJƒò"
    },
    interp:{
      safe:"Niski wynik: Nie wykryto znaczƒÖcych ≈õlad√≥w manipulacji.",
      mixed:"Mieszane sygna≈Çy: Wykryto niekt√≥re cechy manipulacji.",
      danger:"Wysoki wynik: OSTRZE≈ªENIE! Wykryto wiele silnych sygna≈Ç√≥w."
    },
    advice:"Zawsze: weryfikuj ≈∫r√≥d≈Ça pierwotne, szukaj niezale≈ºnych potwierdze≈Ñ.",
    badges:{none:"brak", veryStrong:"bardzo silny"}
  },
  ro:{
    title:"Verificare: 20 semnale de manipulare",
    intro:"EvalueazƒÉ fiecare semnal pe o scarƒÉ de la <strong>0‚Äì5</strong>. ApasƒÉ pe <em>CalculeazƒÉ</em>, apoi <em>Rezultate</em>.",
    results:"Rezultate",
    save:"DescarcƒÉ PNG",
    savePDF:"DescarcƒÉ PDF",
    ok:"√énchide",
    calc:"CalculeazƒÉ",
    reset:"ReseteazƒÉ",
    langLabel:"LimbƒÉ:",
    methodology:"üìã Metodologie",
    methodText:"Acest instrument evalueazƒÉ 20 de semnale cunoscute de manipulare a informa»õiei folosite √Æn opera»õiuni psihologice. Fiecare semnal este evaluat de la 0 (absent) la 5 (foarte puternic).",
    signalsTitle:"Evaluarea semnalelor",
    resultTitle:"Rezultat",
    status:{
      safe:"FƒÇRƒÇ MANIPULARE",
      warn:"PROBABILITATE MODERATƒÇ",
      danger:"MANIPULARE DETECTATƒÇ"
    },
    interp:{
      safe:"Scor scƒÉzut: Nu s-au detectat urme semnificative de manipulare.",
      mixed:"Semnale mixte: S-au detectat unele caracteristici de manipulare.",
      danger:"Scor ridicat: AVERTISMENT! S-au detectat multiple semnale puternice."
    },
    advice:"√éntotdeauna: verificƒÉ sursele primare, cautƒÉ confirmƒÉri independente.",
    badges:{none:"niciunul", veryStrong:"foarte puternic"}
  },
  cs:{
    title:"Kontrola: 20 sign√°l≈Ø manipulace",
    intro:"Ohodno≈•te ka≈æd√Ω sign√°l na ≈°k√°le <strong>0‚Äì5</strong>. Kliknƒõte na <em>Vypoƒç√≠tat</em>, pot√© <em>V√Ωsledky</em>.",
    results:"V√Ωsledky",
    save:"St√°hnout PNG",
    savePDF:"St√°hnout PDF",
    ok:"Zav≈ô√≠t",
    calc:"Vypoƒç√≠tat",
    reset:"Resetovat",
    langLabel:"Jazyk:",
    methodology:"üìã Metodologie",
    methodText:"Tento n√°stroj hodnot√≠ 20 zn√°m√Ωch sign√°l≈Ø manipulace s informacemi pou≈æ√≠van√Ωch v psychologick√Ωch operac√≠ch. Ka≈æd√Ω sign√°l je hodnocen od 0 (chyb√≠) do 5 (velmi siln√Ω).",
    signalsTitle:"Hodnocen√≠ sign√°l≈Ø",
    resultTitle:"V√Ωsledek",
    status:{
      safe:"≈Ω√ÅDN√Å MANIPULACE",
      warn:"M√çRN√Å PRAVDƒöPODOBNOST",
      danger:"MANIPULACE ZJI≈†TƒöNA"
    },
    interp:{
      safe:"N√≠zk√© sk√≥re: Nebyly zji≈°tƒõny v√Ωznamn√© stopy manipulace.",
      mixed:"Sm√≠≈°en√© sign√°ly: Zji≈°tƒõny nƒõkter√© charakteristiky manipulace.",
      danger:"Vysok√© sk√≥re: VAROV√ÅN√ç! Zji≈°tƒõno nƒõkolik siln√Ωch sign√°l≈Ø."
    },
    advice:"V≈ædy: ovƒõ≈ôujte prim√°rn√≠ zdroje, hledejte nez√°visl√° potvrzen√≠.",
    badges:{none:"≈æ√°dn√Ω", veryStrong:"velmi siln√Ω"}
  },
  hu:{
    title:"Ellen≈ërz√©s: 20 manipul√°ci√≥s jel",
    intro:"√ârt√©kelje minden jelet <strong>0‚Äì5</strong> sk√°l√°n. Kattintson a <em>Sz√°m√≠t√°s</em>, majd az <em>Eredm√©nyek</em> gombra.",
    results:"Eredm√©nyek",
    save:"PNG let√∂lt√©se",
    savePDF:"PDF let√∂lt√©se",
    ok:"Bez√°r√°s",
    calc:"Sz√°m√≠t√°s",
    reset:"Vissza√°ll√≠t√°s",
    langLabel:"Nyelv:",
    methodology:"üìã M√≥dszertan",
    methodText:"Ez az eszk√∂z 20 ismert inform√°ci√≥manipul√°ci√≥s jel jelenl√©t√©t √©rt√©keli. Minden jel 0-t√≥l (hi√°nyzik) 5-ig (nagyon er≈ës) √©rt√©kelend≈ë.",
    signalsTitle:"Jelek √©rt√©kel√©se",
    resultTitle:"Eredm√©ny",
    status:{
      safe:"NINCS MANIPUL√ÅCI√ì",
      warn:"M√âRS√âKELT VAL√ìSZ√çN≈∞S√âG",
      danger:"MANIPUL√ÅCI√ì √âSZLELVE"
    },
    interp:{
      safe:"Alacsony pontsz√°m: Nem √©szlelhet≈ëk jelent≈ës manipul√°ci√≥s nyomok.",
      mixed:"Vegyes jelek: N√©h√°ny manipul√°ci√≥s jellemz≈ë √©szlelhet≈ë.",
      danger:"Magas pontsz√°m: FIGYELMEZTET√âS! T√∂bb er≈ës jel √©szlelve."
    },
    advice:"Mindig: ellen≈ërizze az els≈ëdleges forr√°sokat, keressen f√ºggetlen meger≈ës√≠t√©seket.",
    badges:{none:"nincs", veryStrong:"nagyon er≈ës"}
  }
};

/* ==== State & elements ==== */
const els={
  lang:document.getElementById('lang'), 
  abLang:document.getElementById('abLang'), 
  qWrap:document.getElementById('questions'), 
  score:document.getElementById('score'), 
  interp:document.getElementById('interp'), 
  advice:document.getElementById('advice'), 
  crt:document.getElementById('crtOverlay'), 
  badge:document.getElementById('workBadge'), 
  ciaBtn:document.getElementById('ciaBtn'), 
  abCiaBtn:document.getElementById('abCiaBtn'), 
  resultsBtn:document.getElementById('resultsBtn'), 
  abResultsBtn:document.getElementById('abResultsBtn'), 
  calcBtn:document.getElementById('abCalcBtn'), 
  resetBtn:document.getElementById('resetBtn'), 
  abResetBtn:document.getElementById('abResetBtn'), 
  root:document.getElementById('exportRoot'),
  title:document.getElementById('appTitle'),
  intro:document.getElementById('intro'),
  langLabel:document.getElementById('langLabel'),
  methodSummary:document.getElementById('methodSummary'),
  methodText:document.getElementById('methodText'),
  signalsTitle:document.getElementById('signalsTitle'),
  resultTitle:document.getElementById('resultTitle')
};

const takeover={
  wrap:document.getElementById('takeover'), 
  panel:document.getElementById('takeoverPanel'),
  icon:document.getElementById('takeoverIcon'),
  status:document.getElementById('takeoverStatus'),
  title:document.getElementById('takeoverTitle'), 
  score:document.getElementById('takeoverScore'), 
  explain:document.getElementById('takeoverExplain'), 
  save:document.getElementById('takeoverSave'),
  pdf:document.getElementById('takeoverPDF'),
  close:document.getElementById('takeoverClose')
};

let state={lang:'bg', values:Array(20).fill(0), cia:true, lastScore:0};

/* ==== Render ==== */
function render(){ 
  const t=I18N[state.lang]||I18N.bg; 
  document.documentElement.lang=state.lang; 
  
  // Update all text elements
  els.title.textContent = t.title;
  els.intro.innerHTML = t.intro;
  els.langLabel.textContent = t.langLabel;
  els.methodSummary.textContent = t.methodology;
  els.methodText.textContent = t.methodText;
  els.signalsTitle.textContent = t.signalsTitle;
  els.resultTitle.textContent = t.resultTitle;
  
  // Update selects
  els.lang.value=state.lang; 
  els.abLang.value=state.lang; 
  
  // Update buttons
  els.resultsBtn.textContent=t.results; 
  els.abResultsBtn.textContent=t.results;
  els.resetBtn.textContent=t.reset;
  els.abResetBtn.textContent=t.reset;
  els.calcBtn.textContent=t.calc;
  takeover.save.textContent=t.save;
  takeover.pdf.textContent=t.savePDF;
  takeover.close.textContent=t.ok;
  
  // Render questions
  const qs = QUESTIONS[state.lang] || QUESTIONS.bg; 
  els.qWrap.innerHTML=''; 
  const frag=document.createDocumentFragment(); 
  qs.forEach((q,i)=>{ 
    const v=state.values[i]??0; 
    const d=document.createElement('div'); 
    d.className='q'; 
    d.innerHTML=`<h3>${i+1}. ${q}</h3><div class="scale"><span class="badge">0: ${t.badges.none}</span><input type="range" min="0" max="5" step="1" value="${v}" data-idx="${i}" aria-label="${q}"><span class="badge">5: ${t.badges.veryStrong}</span><span class="badge value mono" id="val-${i}">${v}</span></div>`; 
    frag.appendChild(d); 
  }); 
  els.qWrap.appendChild(frag); 
  els.qWrap.querySelectorAll('input[type="range"]').forEach(r=>{ 
    r.addEventListener('input',e=>{ 
      const i=+e.target.dataset.idx; 
      const v=+e.target.value; 
      state.values[i]=v; 
      const b=document.getElementById('val-'+i); 
      if(b) b.textContent=v; 
    }); 
  }); 
  paint(state.lastScore); 
}

function paint(s){ 
  const t=I18N[state.lang]||I18N.bg; 
  els.score.textContent=`${s}/100`; 
  let cls='good', msg=t.interp.safe; 
  if(s>=70){cls='bad'; msg=t.interp.danger;} 
  else if(s>=40){cls='warn'; msg=t.interp.mixed;} 
  els.score.className='score '+cls; 
  els.interp.textContent=msg; 
  els.advice.textContent=t.advice; 
}

/* ==== Beep ==== */
function beep(d=0.08,f=880,v=0.06){ 
  try{
    const C=new (window.AudioContext||window.webkitAudioContext)(),
    o=C.createOscillator(),
    g=C.createGain(); 
    o.type='square'; 
    o.frequency.value=f; 
    g.gain.value=v; 
    o.connect(g); 
    g.connect(C.destination); 
    o.start(); 
    setTimeout(()=>{o.stop();C.close();},d*1000);
  }catch(e){}
}

/* ==== Score ==== */
function calc(){ 
  const sum=state.values.reduce((a,b)=>a+b,0); 
  state.lastScore=sum; 
  paint(sum); 
  beep(0.08, sum>=70?520:sum>=40?660:880, 0.05); 
}

/* ==== CIA theme ==== */
function toggleCIA(){ 
  state.cia=!state.cia; 
  document.body.classList.toggle('theme-cia', state.cia); 
  els.crt.classList.toggle('hidden', !state.cia); 
}

/* ==== Enhanced Results modal ==== */
function showResults(){ 
  const t=I18N[state.lang]||I18N.bg; 
  const s = state.lastScore;
  
  // Determine level
  let level, icon, status;
  if(s < 40){
    level = 'safe';
    icon = '‚úì';
    status = t.status.safe;
  } else if(s < 70){
    level = 'warn';
    icon = '‚ö†';
    status = t.status.warn;
  } else {
    level = 'danger';
    icon = '‚ö†';
    status = t.status.danger;
  }
  
  // Update modal
  takeover.panel.className = 'panel level-' + level;
  takeover.icon.textContent = icon;
  takeover.status.textContent = status;
  takeover.title.textContent = t.results;
  takeover.score.textContent = `${s}/100`;
  takeover.explain.textContent = (s < 40 ? t.interp.safe : s < 70 ? t.interp.mixed : t.interp.danger) + ' ‚Äî ' + t.advice;
  
  takeover.wrap.classList.add('active'); 
  document.body.style.overflow='hidden'; 
  
  // Sound effect
  if(s >= 70){
    beep(0.15, 400, 0.06);
    setTimeout(()=>beep(0.15, 350, 0.06), 200);
  } else if(s >= 40){
    beep(0.1, 660, 0.05);
  } else {
    beep(0.08, 880, 0.04);
  }
}

function hideResults(){ 
  takeover.wrap.classList.remove('active'); 
  document.body.style.overflow=''; 
}

/* ==== PNG export ==== */
async function exportPNG(){ 
  els.badge.textContent = I18N[state.lang].save + '...'; 
  els.badge.classList.remove('hidden');
  
  try{
    // Use the modal panel
    const panel = takeover.panel;
    const rect = panel.getBoundingClientRect();
    const w = Math.ceil(rect.width);
    const h = Math.ceil(rect.height);
    
    // Create canvas
    const canvas = document.createElement('canvas');
    canvas.width = w * 2; // Higher resolution
    canvas.height = h * 2;
    const ctx = canvas.getContext('2d');
    ctx.scale(2, 2);
    
    // Get computed styles
    const bgColor = window.getComputedStyle(panel).backgroundColor;
    const borderColor = window.getComputedStyle(panel).borderColor;
    const color = window.getComputedStyle(panel).color;
    
    // Draw background
    ctx.fillStyle = bgColor || '#000';
    ctx.fillRect(0, 0, w, h);
    
    // Draw border
    ctx.strokeStyle = borderColor || '#10b981';
    ctx.lineWidth = 3;
    ctx.strokeRect(0, 0, w, h);
    
    // Draw scan lines
    ctx.strokeStyle = 'rgba(255,255,255,0.03)';
    ctx.lineWidth = 1;
    for(let y = 0; y < h; y += 4){
      ctx.beginPath();
      ctx.moveTo(0, y);
      ctx.lineTo(w, y);
      ctx.stroke();
    }
    
    // Get text content
    const icon = takeover.icon.textContent;
    const status = takeover.status.textContent;
    const title = takeover.title.textContent;
    const score = takeover.score.textContent;
    const explain = takeover.explain.textContent;
    
    ctx.fillStyle = color;
    ctx.textAlign = 'center';
    ctx.font = 'bold 60px monospace';
    
    // Draw icon
    ctx.fillText(icon, w/2, 100);
    
    // Draw status
    ctx.font = '14px monospace';
    ctx.fillText(status, w/2, 140);
    
    // Draw title
    ctx.font = 'bold 28px monospace';
    ctx.fillText(title, w/2, 180);
    
    // Draw score
    ctx.font = 'bold 70px monospace';
    ctx.fillText(score, w/2, 260);
    
    // Draw explanation (word wrap)
    ctx.font = '14px monospace';
    const words = explain.split(' ');
    let line = '';
    let y = 310;
    const maxWidth = w - 80;
    
    for(let i = 0; i < words.length; i++){
      const testLine = line + words[i] + ' ';
      const metrics = ctx.measureText(testLine);
      if(metrics.width > maxWidth && i > 0){
        ctx.fillText(line, w/2, y);
        line = words[i] + ' ';
        y += 20;
      } else {
        line = testLine;
      }
    }
    ctx.fillText(line, w/2, y);
    
    // Add timestamp
    ctx.font = '11px monospace';
    ctx.fillStyle = 'rgba(255,255,255,0.5)';
    ctx.fillText(new Date().toLocaleString(), w/2, h - 20);
    
    // Download
    canvas.toBlob(blob => {
      if(!blob){
        throw new Error('Failed to create blob');
      }
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `nci-results-${state.lastScore}.png`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      
      els.badge.textContent = 'PNG ‚úì'; 
      setTimeout(()=>els.badge.classList.add('hidden'), 1500);
    }, 'image/png');
    
  }catch(err){ 
    console.error('PNG export error:', err); 
    els.badge.textContent = 'PNG Error'; 
    setTimeout(()=>els.badge.classList.add('hidden'), 2000); 
  }
}

/* ==== PDF export (via print) ==== */
function exportPDF(){
  const t=I18N[state.lang]||I18N.bg; 
  const s = state.lastScore;
  
  let level, statusText;
  if(s < 40){
    level = 'safe';
    statusText = t.status.safe;
  } else if(s < 70){
    level = 'warn';
    statusText = t.status.warn;
  } else {
    level = 'danger';
    statusText = t.status.danger;
  }
  
  const interpText = s < 40 ? t.interp.safe : s < 70 ? t.interp.mixed : t.interp.danger;
  const color = s < 40 ? '#10b981' : s < 70 ? '#f59e0b' : '#ef4444';
  
  const printWindow = window.open('', '_blank');
  printWindow.document.write(`
    <!DOCTYPE html>
    <html>
    <head>
      <title>NCI Analysis Report - ${s}/100</title>
      <style>
        body { 
          font-family: 'Courier New', monospace; 
          padding: 40px; 
          background: #000; 
          color: ${color}; 
          line-height: 1.6;
        }
        .container { 
          border: 3px solid ${color}; 
          padding: 30px; 
          max-width: 800px; 
          margin: 0 auto; 
        }
        .header { 
          font-size: 28px; 
          text-align: center; 
          margin-bottom: 10px; 
          letter-spacing: 3px; 
          text-transform: uppercase;
        }
        .status {
          text-align: center;
          font-size: 18px;
          margin-bottom: 30px;
          letter-spacing: 2px;
        }
        .score { 
          font-size: 72px; 
          text-align: center; 
          margin: 30px 0;
          font-weight: bold;
        }
        .interp {
          margin: 20px 0;
          padding: 20px;
          border-left: 4px solid ${color};
          background: rgba(255,255,255,0.05);
        }
        .footer { 
          margin-top: 40px; 
          border-top: 1px solid ${color}; 
          padding-top: 20px; 
          font-size: 12px;
          text-align: center;
        }
        @media print {
          body { background: white; color: ${color}; }
        }
      </style>
    </head>
    <body>
      <div class="container">
        <div class="header">NCI MANIPULATION CHECKER</div>
        <div class="status">${statusText}</div>
        <div class="score">${s}/100</div>
        <div class="interp">${interpText}</div>
        <div class="interp">${t.advice}</div>
        <div class="footer">
          <div>${new Date().toLocaleString()}</div>
          <div>${level.toUpperCase()}</div>
        </div>
      </div>
    </body>
    </html>
  `);
  printWindow.document.close();
  setTimeout(() => printWindow.print(), 500);
}

/* ==== Events ==== */
els.lang.addEventListener('change', e=>{ state.lang=e.target.value; render(); }); 
els.abLang.addEventListener('change', e=>{ state.lang=e.target.value; render(); }); 
els.ciaBtn.addEventListener('click', toggleCIA); 
els.abCiaBtn.addEventListener('click', toggleCIA); 
els.resetBtn.addEventListener('click', ()=>{ state.values=Array(20).fill(0); render(); }); 
els.abResetBtn.addEventListener('click', ()=>{ state.values=Array(20).fill(0); render(); }); 
els.calcBtn.addEventListener('click', calc); 
els.resultsBtn.addEventListener('click', showResults); 
els.abResultsBtn.addEventListener('click', showResults); 
takeover.close.addEventListener('click', hideResults); 
takeover.save.addEventListener('click', exportPNG);
takeover.pdf.addEventListener('click', exportPDF);

// Init
document.body.classList.add('theme-cia');
els.crt.classList.remove('hidden');
render();
</script>
</body>
</html>
